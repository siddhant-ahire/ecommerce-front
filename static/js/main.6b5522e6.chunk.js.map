{"version":3,"sources":["config.js","auth/index.js","auth/AdminRoute.js","auth/PrivateRoute.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/cartHelpers.js","core/Search.js","core/Menu.js","core/Layout.js","core/Home.js","user/Signin.js","user/Signup.js","user/userDashboard.js","user/AdminDashboard.js","admin/AddCategory.js","admin/apiAdmin.js","admin/AddProduct.js","core/Checkbox.js","core/RadioBox.js","core/fixedPrices.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","AdminRoute","Component","component","rest","render","props","user","role","to","pathname","state","from","location","PrivateRoute","getProducts","sortBy","fetch","method","then","response","json","catch","err","console","log","getCategories","getFilteredProducts","skip","limit","filters","data","headers","Accept","body","stringify","ShowImage","item","url","className","src","_id","alt","name","style","maxHeight","maxWidth","Card","cartUpdate","quantity","product","showViewProductButton","showAddToCartButton","cardToUpdate","showRemoveProductButton","setRun","f","run","undefined","useState","redirect","setRedirect","count","setCount","handleChange","id","event","target","value","productId","cart","map","i","setItem","updateItem","shouldRedirect","description","substring","price","category","moment","createdAt","fromNow","onClick","next","push","Array","Set","p","find","addItem","splice","removeItem","showRemoveButton","type","onChange","Search","categories","search","results","searched","setData","useEffect","dataa","error","searchMessage","length","searchData","params","query","queryString","list","searchSubmit","e","preventDefault","onSubmit","c","placeholder","border","searchedProducts","isActive","history","path","color","withRouter","cursor","res","signout","Layout","title","children","Home","productBySell","setProductBySell","productByArrival","setProductByArrival","setError","Signin","email","password","loading","redirectToReferrer","values","setValues","clickSubmit","signin","authenticate","display","Signup","success","Dashboard","AddCategory","setName","setSuccess","token","userId","Authorization","createCategory","showError","showSuccess","autoFocus","required","AddProduct","shipping","photo","createProduct","redirectToProfile","formData","init","FormData","files","set","createNewProduct","accept","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryID","indexOf","newCheckedCategoryID","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","key","parseInt","paddingLeft","Product","setProduct","relatedProducts","setRelatedProducts","loadSingleProduct","read","listRelated","match","Checkout","products","clientToken","instance","address","getToken","getBraintreeClientToken","resData","deliveryAddress","buy","nonce","requestPaymentMethod","getTotal","paymentData","paymentMethodNonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","handleAddress","reduce","currentValue","nextValue","onBlur","_","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","handleStatusChange","orderId","status","updateOrderStatus","showStatus","o","index","showInput","readOnly","noOrders","oIndex","borderBottom","pIndex","padding","Routes","exact","AdminDashboard","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6b5522e6.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;","import { API } from '../config';\r\n\r\n\r\nexport const signup = (user) => {\r\n    return fetch(`${API}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return (response.json())\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const signin = (user) => {\r\n    return fetch(`${API}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return (response.json())\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const authenticate = (data, next) => {\r\n    if(typeof window !== undefined) {\r\n        localStorage.setItem('jwt',JSON.stringify(data))\r\n        next()\r\n    }\r\n}\r\n\r\nexport const signout = (next) => {\r\n    if(typeof window !== undefined) {\r\n        localStorage.removeItem('jwt')\r\n        next();\r\n        return fetch(`${API}/signout`, {\r\n            method:'GET'\r\n        })\r\n            .then(response => response.json())\r\n            .then(res=>console.log(res))\r\n            .catch(err => console.log(err));\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == 'undefined') {\r\n        return false\r\n    }\r\n    if(localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'));\r\n    } else {\r\n        return false;\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Redirect, Route } from 'react-router';\r\nimport { isAuthenticated } from '.';\r\n\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{ pathname: \"/signin\", state: { from: props.location } }} />\r\n    )} />\r\n)\r\n\r\nexport default AdminRoute","import React, { Component } from 'react';\r\nimport { Redirect, Route } from 'react-router';\r\nimport { isAuthenticated } from '.';\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => isAuthenticated() ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{ pathname: \"/signin\", state: { from: props.location } }} />\r\n    )} />\r\n)\r\n\r\nexport default PrivateRoute","import {API} from '../config';\r\nimport queryString from 'query-string'\r\n\r\nexport const getProducts = (sortBy) => {\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`,{\r\n        method:\"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`,{\r\n        method:\"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getFilteredProducts = (skip, limit, filters={}) => {\r\n\r\n    const data = {\r\n        limit,\r\n        skip,\r\n        filters\r\n    }\r\n\r\n    console.log('data',data)\r\n    return fetch(`${API}/products/by/search`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type':'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response => {\r\n            return (response.json())\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n\r\nexport const list = (params) => {\r\n    const query = queryString.stringify(params);\r\n    console.log(query)\r\n\r\n    return fetch(`${API}/products/search?${query}`,{\r\n        method:\"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const read = (productId) => {\r\n\r\n    return fetch(`${API}/product/${productId}`,{\r\n        method:\"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const listRelated = (productId) => {\r\n    return fetch(`${API}/products/related/${productId}`,{\r\n        method:\"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n    return fetch(`${API}/braintree/getToken/${userId}`,{\r\n        method:\"GET\",\r\n        headers:{\r\n            Accept:'application/json',\r\n            \"Content-Type\":\"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n    return fetch(`${API}/braintree/payment/${userId}`,{\r\n        method:\"post\",\r\n        headers:{\r\n            Accept:'application/json',\r\n            \"Content-Type\":\"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentData)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n    return fetch(`${API}/order/create/${userId}`,{\r\n        method:\"post\",\r\n        headers:{\r\n            Accept:'application/json',\r\n            \"Content-Type\":\"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({order:createOrderData})\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}","import React from 'react'\r\nimport { API } from '../config'\r\n\r\nconst ShowImage = ({item, url}) => {\r\n    return (\r\n        <div className=\"product-img\">\r\n            <img\r\n                src={`${API}/${url}/photo/${item._id}`}\r\n                alt={item.name}\r\n                className=\"mb-3\"\r\n                style={{maxHeight:'100%',maxWidth:'100%'}}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowImage\r\n","import React, { useState } from 'react'\r\nimport { Link, Redirect} from 'react-router-dom'\r\nimport ShowImage from './ShowImage'\r\nimport moment from 'moment'\r\nimport { addItem , removeItem, updateItem} from './cartHelpers'\r\n\r\nconst Card = ({product, \r\n    showViewProductButton = true, \r\n    showAddToCartButton = true, \r\n    cardToUpdate = false,\r\n    showRemoveProductButton = false,\r\n    setRun = f => f,\r\n    run = undefined\r\n    }) => {\r\n    const [redirect, setRedirect] = useState('');\r\n    const [count, setCount] = useState(product.count);\r\n    const showStock = (quantity) => {\r\n        return quantity > 0 ? (\r\n            <span className=\"badge badge-primary badge-pill\">In Stock</span>\r\n        ):(\r\n        <span />\r\n        )\r\n    }\r\n\r\n    const addToCart = () => {\r\n        addItem(product, () => {\r\n            setRedirect(true);\r\n        })\r\n    }\r\n\r\n    const shouldRedirect = (redirect) => (\r\n        redirect && <Redirect to=\"/cart\"/>\r\n    )\r\n\r\n    const showRemoveButton = showRemoveProductButton => {\r\n        return (\r\n            showRemoveProductButton && (\r\n                <button onClick={() => {\r\n                    removeItem(product._id);\r\n                    setRun(!run);\r\n                }} className=\"btn btn-outline-danger mt-2 mb-2\">Remove Product</button>\r\n            )\r\n        )\r\n    }\r\n\r\n    const handleChange = (id) => (event) => {\r\n        setRun(!run);\r\n        setCount(event.target.value < 1 ? 1 : event.target.value)\r\n        if(event.target.value >=1){\r\n            updateItem(id, event.target.value);\r\n        }\r\n    }\r\n\r\n    const showCartUpdateOptions = ( cartUpdate) => {\r\n        return cartUpdate && <div>\r\n            <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\" >Adjust Quantity</span>\r\n                </div>\r\n                <input type=\"number\" className=\"form-control\" onChange={handleChange(product._id)} value={count} />\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header name\">\r\n                    {product.name}\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    {shouldRedirect(redirect)}\r\n                    <ShowImage item={product} url=\"product\" />\r\n                    <p>{product.description.substring(0,100)}..</p>\r\n                    <p className=\"black-8\">Rs{product.price}</p>\r\n                    <p className=\"black-9\">\r\n                        Category: {product.category && product.category.name}\r\n                    </p>\r\n                    <p className=\"black-10\">\r\n                        Added on {moment(product.createdAt).fromNow()}\r\n                    </p>\r\n\r\n                    {showStock(product.quantity)}\r\n                    <br />\r\n                    {showViewProductButton &&\r\n\r\n                        <Link to={`/product/${product._id}`}>\r\n                            <button className=\"btn btn-outline-primary mt-2 mb-2 mr-2\">\r\n                            View Product\r\n                        </button>\r\n                    </Link>\r\n                    }\r\n                    {showAddToCartButton &&\r\n                        <button onClick={addToCart} className=\"btn btn-outline-warning mt-2 mb-2\">\r\n                        Add to Cart\r\n                    </button>\r\n                    }\r\n                    {showRemoveButton(showRemoveProductButton)}\r\n                    {showCartUpdateOptions(cardToUpdate)}\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Card\r\n","export const addItem = (item, next) => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n        cart.push({\r\n            ...item,\r\n            count: 1\r\n        })\r\n\r\n        cart = Array.from(new Set(cart.map(p => (p._id)))).map(id => {\r\n            return cart.find(p => p._id == id)\r\n        })\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart))\r\n        next();\r\n    }\r\n}\r\n\r\nexport const itemTotal = () => {\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            return JSON.parse(localStorage.getItem(\"cart\")).length;\r\n        }\r\n    }\r\n    return 0;\r\n}\r\n\r\nexport const getCart = () => {\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            return JSON.parse(localStorage.getItem(\"cart\"));\r\n        }\r\n    }\r\n    return [];\r\n}\r\n\r\nexport const updateItem = (productId, count) => {\r\n    let cart = []\r\n    if(typeof window !== 'undefined'){\r\n        if(localStorage.getItem('cart')){\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.map((product, i)=>{\r\n            if(product._id === productId){\r\n                cart[i].count = count\r\n            }\r\n        });\r\n\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }\r\n}\r\n\r\nexport const removeItem = (productId) => {\r\n    let cart = []\r\n    if(typeof window !== 'undefined'){\r\n        if(localStorage.getItem('cart')){\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.map((product, i)=>{\r\n            if(product._id === productId){\r\n                cart.splice(i,1)\r\n            }\r\n        });\r\n\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }\r\n    return cart;\r\n}\r\n\r\nexport const emptyCart = (next) => {\r\n    if (typeof window !== \"undefined\") {\r\n        localStorage.removeItem(\"cart\");\r\n        next();\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport Card from './Card'\r\nimport { getCategories, list } from './apiCore';\r\n\r\nconst Search = () => {\r\n    const [data, setData] = useState({\r\n        categories:[],\r\n        category:'',\r\n        search:'',\r\n        results:[],\r\n        searched:false\r\n    });\r\n\r\n    const {categories, category, search, results, searched} = data\r\n\r\n    const loadCategories = () => {\r\n        getCategories().then(dataa => {\r\n            if(dataa.error){\r\n                console.log(dataa.error)\r\n            } else {\r\n                setData({ ...data,categories:dataa })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n    }, [])\r\n\r\n    const searchMessage = (searched, results) => {\r\n        if(searched && results.length > 0) {\r\n            return `Found ${results.length} products`;\r\n        }\r\n        if(searched && results.length < 1){\r\n            return `No products found`;\r\n        }\r\n    }\r\n\r\n    const searchedProducts = (results = []) => (\r\n        <div>\r\n            <h2>\r\n                {searchMessage(searched, results)}\r\n            </h2>\r\n            <div className='row'>\r\n            {results.map((product, i)=>(\r\n                <Card key={i} product={product} />\r\n            ))}\r\n        </div>\r\n        </div>\r\n    )\r\n\r\n    const searchData = () => {\r\n        console.log(search,category)\r\n        if(search){\r\n            list({search:search || undefined, category:category})\r\n            .then(response => {\r\n                if(response.error){\r\n                    console.log(response.error)\r\n                } else {\r\n                    setData({...data, results:response, searched:true})\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const searchSubmit = (e) => {\r\n        e.preventDefault();\r\n        searchData();\r\n    }\r\n\r\n    const handleChange = (name) => (e) => {\r\n        setData({...data, [name]:e.target.value, searched: false});\r\n    }\r\n\r\n    const searchForm = () => (\r\n        <form onSubmit={searchSubmit}>\r\n            <span className=\"input-group-text\">\r\n                <div className=\"input-group input-group-lg\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <select className='btn mr-2' onChange={handleChange('category')}>\r\n                            <option value=\"All\">Pick Category</option>\r\n                            {categories.map((c, i) => (\r\n                                <option key={i} value={c._id}>{c.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <input type=\"search\" className=\"form-control\" onChange={handleChange('search')} placeholder=\"search by name\" />\r\n                </div>\r\n                <div className=\"btn input-group-append\" style={{border:'none'}}>\r\n                    <button className=\"input-group-text\">Search</button>\r\n                </div>\r\n            </span>\r\n\r\n\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <div className='row'>\r\n            <div className=\"container mb-3\">\r\n                {searchForm()}\r\n            </div>\r\n            <div className=\"container mb-3\">\r\n                {searchedProducts(results)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { isAuthenticated, signout } from '../auth';\r\nimport { itemTotal } from './cartHelpers';\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return { color: \"#ff9900\" };\r\n    } else {\r\n        return { color: \"#ffffff\" };\r\n    }\r\n}\r\n\r\nconst Menu = ({ history }) => {\r\n    return (\r\n        <div>\r\n            <ul className=\"nav nav-tabs bg-primary\">\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history, '/')} to=\"/\">\r\n                        Home\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history, '/shop')} to=\"/shop\">\r\n                        shop\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history, '/cart')} to=\"/cart\">\r\n                        Cart <sup><small className=\"cart-badge\">{itemTotal()}</small></sup>\r\n                    </Link>\r\n                </li>\r\n                {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                    <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history, '/user/dashboard')} to=\"/user/dashboard\">\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n                )}\r\n                {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                    <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history, '/admin/dashboard')} to=\"/admin/dashboard\">\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n                )}\r\n                {!isAuthenticated() && (\r\n                    <>\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"nav-link\" style={isActive(history, '/signin')} to=\"/signin\">\r\n                                Signin\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"nav-link\" style={isActive(history, '/signup')} to=\"/signup\">\r\n                                Signup\r\n                            </Link>\r\n                        </li>\r\n                    </>\r\n                )}\r\n                {isAuthenticated() && (\r\n                    <>\r\n                        <li className=\"nav-item\">\r\n                            <span className=\"nav-link\" style={{ cursor: 'pointer', color: '#ffffff' }}\r\n                                onClick={() => {\r\n                                    signout(() => {\r\n                                        history.push('/');\r\n                                    })\r\n                                }}>\r\n                                Signout\r\n                            </span>\r\n                        </li>\r\n                    </>\r\n                )\r\n\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Menu)\r\n","import React from 'react'\r\nimport Menu from './Menu'\r\nimport '../style.css'\r\n\r\nconst Layout = ({ title = \"Title\", description = \"Description\", className, children }) => {\r\n    return (\r\n        <div>\r\n            <Menu/>\r\n            <div className=\"jumbotron\">\r\n                <h2>{title}</h2>\r\n                <p className=\"lead\" >{description}</p>\r\n            </div>\r\n            <div className={className}>{children}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout\r\n","import React, { useEffect, useState } from 'react'\r\nimport { getProducts } from './apiCore';\r\nimport Card from './Card';\r\nimport Search from './Search';\r\nimport Layout from './Layout'\r\n\r\nconst Home = () => {\r\n    const [productBySell, setProductBySell] = useState([]);\r\n    const [productByArrival, setProductByArrival] = useState([]);\r\n    const [error,setError] = useState(false);\r\n\r\n    const loadProductBySell = () => {\r\n        getProducts('sold').then(data => {\r\n            if(data.error){\r\n                setError(data.error);\r\n            } else {\r\n                setProductBySell(data);\r\n            }\r\n        })\r\n    }\r\n    const loadProductByArrival = () => {\r\n        getProducts('createdAt').then(data => {\r\n            if(data.error){\r\n                setError(data.error);\r\n            } else {\r\n                setProductByArrival(data);\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadProductByArrival();\r\n        loadProductBySell();\r\n    },[])\r\n\r\n    return (\r\n        <div>\r\n            <Layout title=\"Home Page\" description=\"Node React E-commerce App\" className=\"container-fluid\">\r\n                <Search/>\r\n                <h2 className=\"mb-4\">Best Sellers</h2>\r\n                <div className='row'>\r\n                {productBySell.map((product,i) => (\r\n                    <div key={i} className=\"col-md-4 mb-3 col-12\">\r\n                    <Card product={product}/>\r\n                    </div>\r\n                    ))}\r\n                </div>\r\n                <h2 className=\"mb-4\">New Arrivals</h2>\r\n                <div className=\"row\">\r\n\r\n                {productByArrival.map((product,i) => (\r\n                <div key={i} className=\"col-md-4 mb-3 col-12\">\r\n                    <Card product={product}/>\r\n                    </div>\r\n                    ))}\r\n                    </div>\r\n            </Layout>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport Layout from '../core/Layout'\r\nimport { authenticate, isAuthenticated, signin } from '../auth'\r\n\r\nconst Signin = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        email: 'admin@gmail.com',\r\n        password: 'Admin@123',\r\n        error: '',\r\n        loading: false,\r\n        redirectToReferrer: false\r\n    });\r\n\r\n    const { email, password, error, loading, redirectToReferrer } = values;\r\n    const {user} = isAuthenticated();\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    };\r\n\r\n\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false, loading:true })\r\n        signin({ email, password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, loading: false })\r\n                } else {\r\n                    authenticate(\r\n                        data,\r\n                        () => {\r\n                            setValues({\r\n                                ...values,\r\n                                redirectToReferrer:true\r\n                            })\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showLoading = () => (\r\n        loading && (\r\n            <div className=\"alert alert-info\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        )\r\n    )\r\n\r\n    const redirectUser = () => {\r\n        if(redirectToReferrer) {\r\n            if(user.role === 1){\r\n                return <Redirect to=\"/admin/dashboard\" />\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />\r\n            }\r\n        }\r\n        if(isAuthenticated()) {\r\n            return <Redirect to=\"/\"/>\r\n        }\r\n    }\r\n\r\n    const signInForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n            </div>\r\n            <button onClick={clickSubmit} type='submit' className=\"btn btn-primary\">Submit</button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <Layout title=\"Signin\" description=\"Node React E-commerce App\" className=\"container col-md-8 offset-md-2\">\r\n                {showError()}\r\n                {showLoading()}\r\n                {signInForm()}\r\n                {redirectUser()}\r\n            </Layout>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signin\r\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from '../core/Layout'\r\nimport { signup } from '../auth'\r\n\r\nconst Signup = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        success: false\r\n    });\r\n\r\n    const { name, email, password, error, success } = values;\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    };\r\n\r\n\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false })\r\n        signup({ name, email, password })\r\n        .then(data => {\r\n                console.log(data)\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, success: false })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: '',\r\n                        email: '',\r\n                        password: '',\r\n                        error: '',\r\n                        success: true\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\r\n            New account is created. Please <Link to='/signin'>Signin</Link>\r\n        </div>\r\n    )\r\n\r\n    const signUpForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n            </div>\r\n            <button onClick={clickSubmit} type='submit' className=\"btn btn-primary\">Submit</button>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <Layout title=\"Signup\" description=\"Node React E-commerce App\" className=\"container col-md-8 offset-md-2\">\r\n                {showError()}\r\n                {showSuccess()}\r\n                {signUpForm()}\r\n            </Layout>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\nimport Layout from '../core/Layout';\r\n\r\nconst Dashboard = () => {\r\n\r\n    const { user: { _id, name, email, role } } = isAuthenticated()\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/cart\">\r\n                            My Cart\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/profile/update\" >\r\n                            jd\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n    const userInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">Usere Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">{role === 1 ? \"Admin\" : \"Registered User\"}</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n    const purchaseHistory = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">Purchase history</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">history</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" description=\"User Dashboard\" className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                    {userLinks()}\r\n                </div>\r\n                <div className=\"col-md-9\">\r\n                    {userInfo()}\r\n                    {purchaseHistory()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\nimport Layout from '../core/Layout';\r\n\r\nconst Dashboard = () => {\r\n\r\n    const { user: { _id, name, email, role } } = isAuthenticated()\r\n    const adminLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">Admin Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/category\">\r\n                            Create Category\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/product\" >\r\n                            Create Product\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/admin/orders\" >\r\n                            View Orders\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n    const adminInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">Usere Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">{role === 1 ? \"Admin\" : \"Registered User\"}</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" description=\"User Dashboard\" className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                    {adminLinks()}\r\n                </div>\r\n                <div className=\"col-md-9\">\r\n                    {adminInfo()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\nimport Layout from '../core/Layout';\r\nimport { createCategory } from './apiAdmin';\r\n\r\nconst AddCategory = () => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    //destructure user and token from localstorage\r\n\r\n    const {user, token} = isAuthenticated()\r\n\r\n    const handleChange = (e) => {\r\n        setError('')\r\n        setName(e.target.value)\r\n    }\r\n\r\n    const clickSubmit = (e) => {\r\n        e.preventDefault()\r\n        setError('')\r\n        setSuccess(false)\r\n        createCategory(user._id, token, {name})\r\n        .then(data=> {\r\n            if(data.error){\r\n               return setError(data.error)\r\n            }\r\n            setError('');\r\n            setSuccess(true);\r\n        })\r\n    }\r\n\r\n    const newCategory = () => (\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" className=\"form-control\" onChange={handleChange} autoFocus value={name} required/>\r\n            </div>\r\n            <button className='btn btn-outline-primary'>Create Category</button>\r\n        </form>\r\n    )\r\n\r\n    const showSuccess = () => {\r\n        if(success){\r\n            return <h3 className=\"text-success\">{name} is created</h3>\r\n        }\r\n    }\r\n    const showError = () => {\r\n        if(error){\r\n            return <h3 className=\"text-danger\">Category is should be unique</h3>\r\n        }\r\n    }\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n                Back to Dashboard\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n\r\n    return (\r\n        <Layout title=\"Add a new category\" description={`G'day ${user.name}, ready to add a new category`} className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showError()}\r\n                    {showSuccess()}\r\n                    {newCategory()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AddCategory\r\n","import { API } from '../config';\r\n\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n        .then(response => {\r\n            return (response.json())\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const createNewProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    })\r\n        .then(response => {\r\n            return (response.json())\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`,{\r\n        method:\"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const listOrders = (userId, token) => {\r\n    return fetch(`${API}/order/list/${userId}`,{\r\n        method:\"GET\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n    return fetch(`${API}/order/status-values/${userId}`,{\r\n        method:\"GET\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n    return fetch(`${API}/order/${orderId}/status/${userId}`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\":'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({status, orderId})\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\nimport Layout from '../core/Layout';\r\nimport { createNewProduct, getCategories } from './apiAdmin';\r\n\r\nconst AddProduct = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping:'',\r\n        quantity: '',\r\n        photo: '',\r\n        loading: false,\r\n        error: '',\r\n        createProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    })\r\n\r\n    const { name,\r\n        description,\r\n        price,\r\n        categories,\r\n        category,\r\n        quantity,\r\n        shipping,\r\n        loading,\r\n        error,\r\n        createProduct,\r\n        redirectToProfile,\r\n        formData } = values\r\n\r\n\r\n    //destructure user and token from localstorage\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if(data.error){\r\n                setValues({...values, error:data.error})\r\n            } else {\r\n                setValues({...values, categories:data,formData: new FormData()})\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(()=> {\r\n        init();\r\n    }, [])\r\n    \r\n    const handleChange = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value)\r\n        setValues({...values, [name]:value})\r\n    }\r\n\r\n    const clickSubmit = (e) => {\r\n        e.preventDefault();\r\n        setValues({...values, error:'', loading:true})\r\n        createNewProduct(user._id, token, formData)\r\n        .then(data => {\r\n            if(data.error){\r\n                setValues({...values, error:data.error})\r\n            } else {\r\n                setValues({\r\n                    ...values, name:\"\", description:\"\", photo:\"\", price:\"\", quantity:\"\",error:'', loading:false, createProduct:data.name\r\n                })\r\n            }\r\n            \r\n        })\r\n    }\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} type=\"text\" className=\"form-control\" value={description}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\" >\r\n                    <option>Please select</option>\r\n                    {categories&&categories.map((c,i) => (<option value={c._id} key={i}>{c.name}</option>))}\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\" >\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity}/>\r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Create Product</button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{display:error ? '' :'none'}}>\r\n            {error}\r\n        </div>\r\n    )\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{display:createProduct ? '' :'none'}}>\r\n            <h2>{`${createProduct}`} is created!</h2>\r\n        </div>\r\n    )\r\n\r\n    const showLoading = () => (\r\n        loading && (<div className=\"alert alert-success\">\r\n            <h2>loading...</h2>\r\n        </div>)\r\n    )\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n                Back to Dashboard\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n\r\n    return (\r\n        <Layout title=\"Add a new product\" description={`G'day ${user.name}, ready to add a new product`} className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showError()}\r\n                    {showLoading()}\r\n                    {showSuccess()}\r\n                    {newPostForm()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AddProduct\r\n","import React, { useState } from 'react'\r\n\r\nconst Checkbox = ({categories,handleFilters}) => {\r\n\r\n    const [checked, setChecked] = useState([]);\r\n\r\n    const handleToggle = c => () => {\r\n        // return the first index or -1\r\n        const currentCategoryID = checked.indexOf(c);\r\n        const newCheckedCategoryID = [...checked];\r\n        // if currenty checked was not already in checked state > push \r\n        //else pull/take off\r\n        if(currentCategoryID === -1){\r\n            newCheckedCategoryID.push(c)\r\n        } else {\r\n            newCheckedCategoryID.splice(currentCategoryID,1)\r\n        }\r\n        setChecked(newCheckedCategoryID);\r\n        handleFilters(newCheckedCategoryID);\r\n    }\r\n\r\n\r\n    return categories.map((c,i)=>(\r\n        <li className=\"list-unstyled\" key={i}>\r\n            <input onChange={handleToggle(c._id)} value={checked.indexOf(c.id === -1)} type='checkbox' className=\"form-check-input\" />\r\n            <label className=\"form-check-label\">{c.name}</label>\r\n        </li>\r\n    ))\r\n}\r\n\r\nexport default Checkbox\r\n","import React, { useState, Fragment } from 'react';\r\n\r\nconst RadioBox = ({prices, handleFilters}) => {\r\n    const [value, setValue] = useState(0);\r\n\r\n\r\n    const handleChange = (event) => {\r\n        handleFilters(event.target.value);\r\n\r\n        \r\n        setValue(event.target.value);\r\n    }\r\n\r\n\r\n    return prices.map((p,i)=>(\r\n        <div key={i}>\r\n            {console.log(p)}\r\n            <input onChange={handleChange} type='radio' name={p} value={`${p._id}`} className=\"mr-2 ml-4\" />\r\n            <label className=\"form-check-label\">{p.name}</label>\r\n        </div>\r\n    ))\r\n}\r\n\r\nexport default RadioBox","export const prices = [\r\n    {\r\n        _id:0,\r\n        name:'Any',\r\n        array:[]\r\n    },\r\n    {\r\n        _id:1,\r\n        name:'0 to 1000',\r\n        array:[0,1000]\r\n    },\r\n    {\r\n        _id:2,\r\n        name:'1000 to 10000',\r\n        array:[1000,10000]\r\n    },\r\n    {\r\n        _id:3,\r\n        name:'10000 to 50000',\r\n        array:[10000,50000]\r\n    },\r\n    {\r\n        _id:4,\r\n        name:'More than 50000',\r\n        array:[50000,100000]\r\n    },\r\n]","import React, { useEffect, useState } from 'react'\r\nimport { getProducts, getCategories, getFilteredProducts } from './apiCore';\r\nimport Checkbox from './Checkbox';\r\nimport RadioBox from './RadioBox';\r\nimport Layout from './Layout';\r\nimport Card from './Card'\r\nimport { prices } from './fixedPrices';\r\n\r\nconst Shop = () => {\r\n    const [myFilters, setMyFilters] = useState({\r\n        filters:{category:[],price:[]}\r\n    })\r\n    const [categories, setCategories] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const [limit, setLimit] = useState(6);\r\n    const [skip, setSkip] = useState(0);\r\n    const [size, setSize] = useState(0);\r\n    const [filteredResults, setFilteredResults] = useState([])\r\n\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{\r\n                setCategories(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadFilteredResults = (newFilters) => {\r\n        getFilteredProducts(0, limit, newFilters).then(data => {\r\n            if(data.error){\r\n                setError(data.error)\r\n            } else {\r\n                setFilteredResults(data.data);\r\n                setSize(data.size);\r\n                setSkip(0)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    const loadMore = () => {\r\n        const toSkip = skip + limit;\r\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\r\n            if(data.error){\r\n                setError(data.error)\r\n            } else {\r\n                setFilteredResults([...filteredResults, ...data.data]);\r\n                setSize(data.size);\r\n                setSkip(toSkip)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadMoreButton = () => {\r\n        return (\r\n            size > 0 && size >= limit && (\r\n                <button className=\"btn btn-warning mb-5\" onClick={loadMore}>\r\n                    Load More\r\n                </button>\r\n                ))    \r\n        }\r\n    \r\n\r\n    useEffect(()=>{\r\n        init();\r\n        loadFilteredResults(myFilters.filters);\r\n    },[])\r\n\r\n    const handleFilters = (filters,filterBy) => {\r\n        // console.log('shop',filters,filterBy)\r\n        const newFilters = {...myFilters}\r\n        newFilters.filters[filterBy] = filters;\r\n\r\n        if(filterBy === 'price'){\r\n            let priceValues = handlePrice(filters)\r\n            newFilters.filters[filterBy] = priceValues;            \r\n        }\r\n        \r\n        loadFilteredResults(newFilters.filters);\r\n        setMyFilters(newFilters);\r\n    }\r\n\r\n    const handlePrice = value => {\r\n        const data = prices;\r\n        let array = [];\r\n\r\n        for (let key in data) {\r\n            if(data[key]._id === parseInt(value)){\r\n                array = data[key].array;\r\n            }\r\n        }\r\n        return array\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Layout title=\"Shop Page\" description=\"Node React E-commerce App\" className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-4\">\r\n                        \r\n                        <h4>Filter by categories</h4>\r\n                        <ul>\r\n                        <Checkbox categories={categories} handleFilters={filters => handleFilters(filters,'category')} />\r\n\r\n                        </ul>\r\n                        <h4>Filter by Price range</h4>\r\n                        <ul style={{paddingLeft:0}}>\r\n                            <RadioBox\r\n                                prices={prices}\r\n                                handleFilters={filters => \r\n                                    handleFilters(filters,'price')\r\n                                }\r\n                            />\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"col-8\">\r\n                        <h2 className=\"mb-4\">Products</h2>\r\n                        <div className='row'>\r\n                            {filteredResults.map((product,i) => (\r\n                                <div key={i} className=\"col-md-4 mb-3 col-12\">\r\n                                    <Card product={product} />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <hr />\r\n                    {loadMoreButton()}\r\n                    </div>\r\n                </div>\r\n            </Layout>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Shop\r\n","import React, { useEffect, useState } from 'react'\r\nimport { read, listRelated} from './apiCore';\r\nimport Card from './Card';\r\nimport Layout from './Layout'\r\n\r\nconst Product = (props) => {\r\n\r\n    const [product, setProduct] = useState({});\r\n    const [error, setError] = useState(false);\r\n    const [relatedProducts, setRelatedProducts] = useState([]);\r\n\r\n    const loadSingleProduct = productId => {\r\n        read(productId).then(data => {\r\n            if(data.error){\r\n                setError(data.error)\r\n            } else {\r\n                setProduct(data);\r\n                //fetch related product\r\n                listRelated(data._id).then(data => {\r\n                    if(data.error){\r\n                        setError(data.error)\r\n                    } else {\r\n                        setRelatedProducts(data);\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const productId = props.match.params.productId\r\n        loadSingleProduct(productId)\r\n    },[props])\r\n\r\n    return (\r\n        <Layout\r\n            title={product && product.name}\r\n            description={product && product.description && product.description.substring(0, 100)}\r\n            className=\"container-fluid\"\r\n            >\r\n            <h2 className=\"mb-4\">Single Product</h2>\r\n            <div className=\"row\">\r\n            <div className=\"col-8\">\r\n\r\n                {product && \r\n                product.description &&\r\n                <Card product={product} showViewProductButton={false} />\r\n            }\r\n            </div>\r\n            <div className=\"col-4\">\r\n                <h4>Related Products</h4>\r\n                {relatedProducts.map((p,i)=> (\r\n                    <div className=\"mb-3\" key={i}>\r\n                    <Card product={p} key={i}/>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Product;","import React, { useEffect, useState } from 'react'\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { createOrder, getBraintreeClientToken, processPayment } from './apiCore';\r\nimport 'braintree-web'\r\nimport DropIn from 'braintree-web-drop-in-react';\r\nimport { emptyCart } from './cartHelpers';\r\n\r\nconst Checkout = ({products,setRun,run}) => {\r\n\r\n    const [data, setData] = useState({\r\n        success:false,\r\n        clientToken: null,\r\n        error: '',\r\n        instance: {},\r\n        address:''\r\n    })\r\n\r\n    const userId = isAuthenticated() && isAuthenticated().user._id\r\n    const token = isAuthenticated() && isAuthenticated().token\r\n\r\n    const getToken =(userId, token) => {\r\n        getBraintreeClientToken(userId, token).then(resData => {\r\n            if(resData.error){\r\n                setData({...data, error:resData.error})\r\n            } else {\r\n                setData({...data, clientToken: resData.clientToken})\r\n            }\r\n        })\r\n    }\r\n\r\n    let deliveryAddress = data.address;\r\n    const buy = () => {\r\n        //send the nonce to your server \r\n        //nonce = data.instance.requestPaymentMethod()\r\n\r\n        let nonce;\r\n        let getNonce = data.instance.requestPaymentMethod()\r\n        .then((data) => {\r\n            console.log(data);\r\n            nonce = data.nonce\r\n            //once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\r\n            //and also total to be charged\r\n            console.log('send nonce and total to process:', nonce, getTotal(products))\r\n            const paymentData = {\r\n                paymentMethodNonce : nonce,\r\n                amount:getTotal(products)\r\n            }\r\n            processPayment(userId, token, paymentData)\r\n                .then(response => {\r\n                    setData({...data, success:response.success});\r\n                    //empty cart\r\n\r\n                    //create order\r\n                    const createOrderData = {\r\n                        products: products,\r\n                        transaction_id: response.transaction.id,\r\n                        amount: response.transaction.amount,\r\n                        address: deliveryAddress\r\n                    }\r\n                    createOrder(userId, token, createOrderData)\r\n                        .then((response=> {\r\n                            emptyCart(()=> {\r\n                                setRun(!run)\r\n                                console.log('payment success')\r\n                            })\r\n                        }))\r\n\r\n                })\r\n                .catch(error => console.log(error))\r\n        })\r\n        .catch(error => {\r\n            console.log('dropin error: ',error)\r\n            setData({...data, error:error.message})\r\n        })\r\n    }\r\n    const handleAddress = (event) => {\r\n        setData({...data, address:event.target.value})\r\n    }\r\n    const showDropIn = () => (\r\n        <div onBlur={(_) => setData({...data, error:''})}>\r\n            {data.clientToken !== null && products.length > 0 ? (\r\n                <div>\r\n                    <div className=\"gorm-group mb-3\">\r\n                        <label className=\"text-muted\">Delivery address:</label>\r\n                        <textarea\r\n                            onChange={handleAddress}\r\n                            className=\"form-control\"\r\n                            value={data.address}\r\n                            placeholder=\"Type your delivery address here...\"\r\n                        />\r\n                    </div>\r\n                    <DropIn options={{\r\n                        authorization:data.clientToken,\r\n                        paypal:{\r\n                            flow:'vault'\r\n                        }\r\n                    }}\r\n                    onInstance={instance => data.instance = instance}\r\n                    />\r\n                    <button className=\"btn btn-success btn-block\" onClick={buy}>Pay</button>\r\n                </div>\r\n            ): null}\r\n        </div>\r\n    )\r\n     \r\n    useEffect(() => {\r\n        getToken(userId,token)\r\n    },[])\r\n\r\n    const getTotal = () => {\r\n        return products.reduce((currentValue, nextValue)=> {\r\n            return currentValue + nextValue.count * nextValue.price;\r\n        },0)\r\n    }\r\n\r\n    const showCheckOut = () => (\r\n        isAuthenticated() ? (\r\n                <div>{showDropIn()}</div>\r\n        ):(\r\n            <Link to=\"/signin\">\r\n                <button className=\"btn btn-primary\">Sign/Signup</button>\r\n            </Link>\r\n        )\r\n    )\r\n\r\n    const showError = error => (\r\n        <div className=\"alert alert-danger\" style={{display:error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    )\r\n    const showSuccess = success => (\r\n        <div className=\"alert alert-info\" style={{display:success ? '' : 'none'}}>\r\n            Thanks! Your payment was successful!\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <h2>Total: Rs {getTotal()}</h2>\r\n            {showSuccess(data.success)}\r\n            {showError(data.error)}\r\n            {showCheckOut()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import React, { useEffect, useState } from 'react'\r\nimport { getProducts } from './apiCore';\r\nimport Card from './Card';\r\nimport {Link} from 'react-router-dom'\r\nimport Search from './Search';\r\nimport Layout from './Layout'\r\nimport Checkout from './Checkout';\r\nimport { getCart } from './cartHelpers';\r\n\r\n\r\nconst Cart = () => {\r\n    const [items, setItems] = useState([]);\r\n    const [run, setRun] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setItems(getCart())\r\n    },[run])\r\n\r\n    const showItems = items => {\r\n        return (\r\n            <div>\r\n                <h2>Your cart has {`${items.length}`} items</h2>\r\n                <hr/>\r\n                {items.map((product, i)=> (<Card key={i} product={product} \r\n                showAddToCartButton={false} \r\n                cardToUpdate={true} \r\n                showRemoveProductButton = {true}\r\n                setRun={setRun}\r\n                run={run}\r\n                />))}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const notItemsMessage = () => {\r\n        <h2>\r\n            Your cart is empty. <br/> <Link to=\"/shop\">Continue Shopping</Link>\r\n        </h2>\r\n    }\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Shopping Cart\"\r\n            description = \"Manage your cart items. Add remove checkout or continue shopping.\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                    {items.length > 0 ? showItems(items) : notItemsMessage()}\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    <h2 className=\"mb-4\">Your cart summary</h2>\r\n                    <hr />\r\n                    <Checkout setRun={setRun} run={run} products={items}/>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Cart;","import React, { useEffect, useState } from \"react\"\r\nimport {isAuthenticated} from '../auth'\r\nimport Layout from \"../core/Layout\";\r\nimport { getStatusValues, listOrders, updateOrderStatus } from \"./apiAdmin\";\r\nimport moment from \"moment\";\r\n\r\n\r\nconst Orders = () => {\r\n    const [orders, setOrders] =  useState([]);\r\n    const [statusValues, setStatusValues] =  useState([]);\r\n    const {user, token} = isAuthenticated();\r\n\r\n    const loadOrders = () => {\r\n        listOrders(user._id, token).then(data => {\r\n            if(data.error){\r\n\r\n            }else {\r\n                setOrders(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadStatusValues = () => {\r\n        getStatusValues(user._id, token).then(data => {\r\n            if(data.error){\r\n\r\n            }else {\r\n                setStatusValues(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadOrders();\r\n        loadStatusValues();\r\n    },[])\r\n\r\n    const noOrders = orders => {\r\n        return orders.length < 1 ? <h4>No orders</h4>: null;\r\n    }\r\n\r\n    const showOrdersLength = () => {\r\n        if(orders.length > 0){\r\n            return(\r\n                <h1 className=\"text-danger display-2\">Total orders: {orders.length}</h1>\r\n            )\r\n        } else {\r\n            return <h1 className=\"text-danger\">No orders</h1>\r\n        }\r\n    }\r\n\r\n    const handleStatusChange = (e, orderId) => {\r\n        updateOrderStatus(user._id, token, orderId, e.target.value).then(data => {\r\n            if(data.error){\r\n                console.log('Status update failed')\r\n            } else {\r\n                loadOrders();\r\n            }\r\n        })\r\n    }    \r\n\r\n    const showStatus = (o) => (\r\n        <div className=\"form-group\">\r\n            <h3 className=\"mark mb-4\">Status: {o.status}</h3>\r\n            <select className=\"form-control\" onChange={e => handleStatusChange(e, o._id)}>\r\n                <option>Update Status</option>\r\n                {statusValues.map((status, index)=> (\r\n                    <option key={index} value={status}>{status}</option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    )\r\n\r\n    const showInput = (key, value) => (\r\n        <div className=\"input-group mb-2 mr-sm-2\">\r\n            <div className=\"input-group-prepend\">\r\n                <div className=\"input-group-text\">\r\n                    {key}\r\n                </div>\r\n            </div>\r\n            <input type=\"text\" value={value} className=\"form-control\" readOnly/>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <Layout title=\"Orders\" description={`G'day ${user.name}, you can manage all the orders here`} className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showOrdersLength()}\r\n                    {noOrders(orders)}\r\n                    {orders.map((o, oIndex)=>{\r\n                        return(\r\n                            <div className=\"mt-5\" key={oIndex} style={{borderBottom:'5px solid indigo'}}>\r\n                                <h2 className=\"mb-5\">\r\n                                    <span className=\"bg-primary\">Order ID: {o._id}</span>\r\n                                </h2>\r\n                                <ul className=\"list-group mb-2\">\r\n                                    <li className=\"list-group-item\">\r\n                                        {showStatus(o)}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        {o.transaction_id}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        {o.amount}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                       Order by: {o.user.name}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Ordered on:{moment(o.createdAt).fromNow()}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Delivery address: {o.address}\r\n                                    </li>\r\n                                </ul>\r\n                                <h3 className=\"mt-4 mb-4 font-italic\">\r\n                                    Total products in the order: {o.products.length}\r\n                                </h3>\r\n                                {o.products.map((p, pIndex)=>(\r\n                                    <div className=\"mb-4\" key={pIndex} style={{padding:'20px', border:'1px solid indigo'}}>\r\n                                        {showInput('Product name',p.name)}\r\n                                        {showInput('Product price',p.price)}\r\n                                        {showInput('Product total',p.count)}\r\n                                        {showInput('Product Id',p._id)}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default Orders","import React from 'react'\r\nimport { BrowserRouter as Dev,HashRouter as Prod, Route, Switch } from 'react-router-dom'\r\nimport AdminRoute from './auth/AdminRoute'\r\nimport PrivateRoute from './auth/PrivateRoute'\r\nimport Home from './core/Home'\r\nimport Signin from './user/Signin'\r\nimport Signup from './user/Signup'\r\nimport Dashboard from './user/userDashboard'\r\nimport AdminDashboard from './user/AdminDashboard'\r\nimport AddCategory from './admin/AddCategory'\r\nimport AddProduct from './admin/AddProduct'\r\nimport Shop from './core/Shop'\r\nimport Product from './core/Product'\r\nimport Cart from './core/Cart'\r\nimport Orders from './admin/Orders'\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <Prod>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Home} />\r\n                <Route path=\"/shop\" exact component={Shop} />\r\n                <Route path=\"/product/:productId\" exact component={Product} />\r\n                <Route path=\"/cart\" exact component={Cart} />\r\n                <Route path=\"/signin\" exact component={Signin} />\r\n                <Route path=\"/signup\" exact component={Signup} />\r\n                <PrivateRoute path=\"/user/dashboard\" exact component = {Dashboard} />\r\n                <AdminRoute path=\"/admin/dashboard\" exact component = {AdminDashboard} />\r\n                <AdminRoute path=\"/create/category\" exact component = {AddCategory} />\r\n                <AdminRoute path=\"/create/product\" exact component = {AddProduct} />\r\n                <AdminRoute path=\"/admin/orders\" exact component = {Orders} />\r\n            </Switch>\r\n        </Prod>\r\n    )\r\n}\r\n\r\nexport default Routes\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './Routes';\n// import reportWebVitals from './reportWebVitals';\nimport './App.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}